---
import { Picture } from '@astrojs/image/components'
import probe from 'probe-image-size'

export interface Props {
  src: string
  alt: string
  eager?: boolean
}

const { src, alt, eager } = Astro.props as Props
const { width, height } = await probe(src)
---

<Picture
  src={src}
  alt={alt}
  widths={[128, 128 * 2, 128 * 3, 128 * 4, 128 * 5, 128 * 6]}
  aspectRatio={width / height}
  eager={eager ? 'eager' : 'lazy'}
  decoding="async"
/>
